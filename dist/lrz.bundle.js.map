{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///lrz.bundle.js","webpack:///webpack/bootstrap 0fc483aa30491a1c93f5","webpack:///./src/lrz.js","webpack:///src/lib/Promise.js","webpack:///node_modules/timers-browserify/main.js","webpack:///node_modules/setimmediate/setImmediate.js","webpack:///node_modules/process/browser.js","webpack:///src/lib/Blob.FormData.shim.js","webpack:///src/lib/exif.js"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","parentJsonpFunction","window","chunkIds","moreModules","chunkId","callbacks","length","installedChunks","push","apply","Object","prototype","hasOwnProperty","shift","0","e","callback","undefined","head","document","getElementsByTagName","script","createElement","type","charset","async","src","p","appendChild","m","c","Lrz","file","opts","that","Error","defaults","width","height","fieldName","quality","init","getJsDir","filter","scripts","v","indexOf","substr","lastIndexOf","dataURItoBlob","dataURI","byteString","split","atob","unescape","mimeString","ia","Uint8Array","charCodeAt","BlobFormDataShim","Blob","buffer","URL","webkitURL","Promise","exif","UA","userAgent","ISOldIOS","exec","isOldAndroid","oldIOS","pop","oldAndroid","iOS","test","android","mQQBrowser","navigator","fileIsString","fileIsBase64","img","Image","canvas","blob","createObjectURL","fileName","name","getContext","resolve","reject","onerror","err","onload","_getBase64","then","base64","formData","size","FormData","append","replace","fileLen","base64Len","origin","revokeObjectURL","crossOrigin","isImageAutomaticRotation","testAutoOrientationImageURL","detectImageAutomaticRotation","getData","supported","orientation","getTag","resize","_getResize","ctx","fillStyle","fillRect","_createBase64ForOldIOS","_createBase64","__WEBPACK_AMD_REQUIRE_ARRAY__","MegaPixImage","mpImg","render","toDataURL","rotate","Math","PI","drawImage","translate","scale","JPEGEncoder","encoder","getImageData","encode","ret","ceil","lrz","version","setImmediate","bind","fn","thisArg","arguments","TypeError","_state","_value","_deferreds","doResolve","handle","deferred","me","asap","cb","onFulfilled","onRejected","newValue","finale","len","Handler","done","value","reason","ex","setTimeout","isArray","Array","toString","all","args","slice","res","val","remaining","constructor","race","values","_setImmediateFn","always","global","Timeout","clearFn","_id","_clearFn","scope","self","Function","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","process","task","tasksByHandle","nextHandle","registerImmediate","run","runIfPresent","currentlyRunningATask","installNextTickImplementation","nextTick","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","random","onGlobalMessage","event","source","data","addEventListener","attachEvent","installMessageChannelImplementation","channel","MessageChannel","port1","port2","installReadyStateChangeImplementation","html","doc","documentElement","onreadystatechange","removeChild","installSetTimeoutImplementation","attachTo","getPrototypeOf","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","Item","array","noop","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","hasFormDataBug","bCheck","vendor","match","BlobConstructor","parts","bb","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","forEach","getBlob","FormDataShim","o","boundary","join","Date","oldSend","XMLHttpRequest","send","getParts","filename","formDataShimNums","fr","oXHR","FileReader","result","readAsArrayBuffer","setRequestHeader","create","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","imageHasData","base64ToArrayBuffer","contentType","binary","ArrayBuffer","view","objectURLToBlob","url","http","open","responseType","status","response","handleBinaryFile","binFile","findEXIFinJPEG","exifdata","iptcdata","findIPTCinJPEG","EXIF","isXmpEnabled","xmpdata","findXMPinJPEG","arrayBuffer","fileReader","target","File","debug","console","log","byteLength","dataView","DataView","getUint8","offset","readEXIFData","getUint16","isFieldSegmentStart","nameHeaderLength","startOffset","sectionLength","readIPTCData","fieldValue","dataSize","segmentType","segmentSize","segmentStartPos","IptcFieldMap","getInt16","getStringFromDB","readTags","tiffStart","dirStart","strings","bigEnd","entryOffset","tag","entries","tags","readTagValue","vals","n","numerator","denominator","numValues","getUint32","valueOffset","Number","getInt32","getNextIFDOffset","readThumbnailImage","firstIFDOffset","IFD1OffsetPointer","thumbTags","IFD1Tags","JpegIFOffset","JpegIFByteCount","tOffset","tLength","start","outstr","String","fromCharCode","exifData","gpsData","tiffOffset","TiffTags","ExifIFDPointer","ExifTags","StringValues","Components","GPSInfoIFDPointer","GPSTags","dom","DOMParser","xmpString","xmpEndIndex","substring","indexOfXmp","domDocument","parseFromString","xml2Object","xml2json","xml","json","nodeType","attributes","j","attribute","nodeName","nodeValue","hasChildNodes","childNodes","child","old","obj","children","idx","itemAtt","dataKey","dataValue","textContent","message","EXIFwrapped","Tags","36864","40960","40961","40962","40963","37121","37122","37500","37510","40964","36867","36868","37520","37521","37522","33434","33437","34850","34852","34855","34856","37377","37378","37379","37380","37381","37382","37383","37384","37385","37396","37386","41483","41484","41486","41487","41488","41492","41493","41495","41728","41729","41730","41985","41986","41987","41988","41989","41990","41991","41992","41993","41994","41995","41996","40965","42016","256","257","34665","34853","258","259","262","274","277","284","530","531","282","283","296","273","278","279","513","514","301","318","319","529","532","306","270","271","272","305","315","33432","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","ExposureProgram","MeteringMode","255","LightSource","Flash","31","32","65","69","71","73","77","79","89","93","95","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","120","110","55","80","85","122","105","116","enableXmp","disableXmp","HTMLImageElement","complete","getIptcTag","getAllTags","getAllIptcTags","pretty","strPretty","readFromBinaryFile"],"mappings":"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","file":"lrz.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n/******/ \t\twhile(callbacks.length)\n/******/ \t\t\tcallbacks.shift().call(null, __webpack_require__);\n/******/\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \t// Array means \"loading\", array contains callbacks\n/******/ \tvar installedChunks = {\n/******/ \t\t0:0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn callback.call(null, __webpack_require__);\n/******/\n/******/ \t\t// an array means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId] !== undefined) {\n/******/ \t\t\tinstalledChunks[chunkId].push(callback);\n/******/ \t\t} else {\n/******/ \t\t\t// start chunk loading\n/******/ \t\t\tinstalledChunks[chunkId] = [callback];\n/******/ \t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\tvar script = document.createElement('script');\n/******/ \t\t\tscript.type = 'text/javascript';\n/******/ \t\t\tscript.charset = 'utf-8';\n/******/ \t\t\tscript.async = true;\n/******/\n/******/ \t\t\tscript.src = __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".chunk.js\";\n/******/ \t\t\thead.appendChild(script);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// 保证按需加载的文件路径正确\n\t__webpack_require__.p = getJsDir('lrz') + '/';\n\twindow.URL = window.URL || window.webkitURL;\n\t\n\tvar Promise = __webpack_require__(1),\n\t    BlobFormDataShim = __webpack_require__(5),\n\t    exif = __webpack_require__(6);\n\t\n\t\n\tvar UA = (function (userAgent) {\n\t    var ISOldIOS = /OS (\\d)_.* like Mac OS X/g.exec(userAgent),\n\t        isOldAndroid = /Android (\\d.*?);/g.exec(userAgent) || /Android\\/(\\d.*?) /g.exec(userAgent);\n\t\n\t    // 判断设备是否是IOS7以下\n\t    // 判断设备是否是android4.5以下\n\t    // 判断是否iOS\n\t    // 判断是否android\n\t    // 判断是否QQ浏览器\n\t    return {\n\t        oldIOS: ISOldIOS ? +ISOldIOS.pop() < 8 : false,\n\t        oldAndroid: isOldAndroid ? +isOldAndroid.pop().substr(0, 3) < 4.5 : false,\n\t        iOS: /\\(i[^;]+;( U;)? CPU.+Mac OS X/.test(userAgent),\n\t        android: /Android/g.test(userAgent),\n\t        mQQBrowser: /MQQBrowser/g.test(userAgent)\n\t    }\n\t})(navigator.userAgent);\n\t\n\t\n\tfunction Lrz(file, opts) {\n\t    var that = this;\n\t\n\t    if (!file) throw new Error('没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7');\n\t\n\t    opts = opts || {};\n\t\n\t    that.defaults = {\n\t        width: null,\n\t        height: null,\n\t        fieldName: 'file',\n\t        quality: 0.7\n\t    };\n\t\n\t    that.file = file;\n\t\n\t    for (var p in opts) {\n\t        if (!opts.hasOwnProperty(p)) continue;\n\t        that.defaults[p] = opts[p];\n\t    }\n\t\n\t    return this.init();\n\t}\n\t\n\tLrz.prototype.init = function () {\n\t    var that = this,\n\t        file = that.file,\n\t        fileIsString = typeof file === 'string',\n\t        fileIsBase64 = /^data:/.test(file),\n\t        img = new Image(),\n\t        canvas = document.createElement('canvas'),\n\t        blob = fileIsString ? file : URL.createObjectURL(file);\n\t\n\t    that.img = img;\n\t    that.blob = blob;\n\t    that.canvas = canvas;\n\t\n\t    if (fileIsString) {\n\t        that.fileName = fileIsBase64 ? 'base64.jpg' : (file.split('/').pop());\n\t    } else {\n\t        that.fileName = file.name;\n\t    }\n\t\n\t    if (!document.createElement('canvas').getContext) {\n\t        throw new Error('浏览器不支持canvas');\n\t    }\n\t\n\t    return new Promise(function (resolve, reject) {\n\t        img.onerror = function () {\n\t            var err = new Error('加载图片文件失败');\n\t            reject(err);\n\t            throw err;\n\t        };\n\t\n\t        img.onload = function () {\n\t            that._getBase64()\n\t                .then(function (base64) {\n\t                    if (base64.length < 10) {\n\t                        var err = new Error('生成base64失败');\n\t                        reject(err);\n\t                        throw err;\n\t                    }\n\t\n\t                    return base64;\n\t                })\n\t                .then(function (base64) {\n\t                    var formData = null;\n\t\n\t                    // 压缩文件太大就采用源文件,且使用原生的FormData() @source #55\n\t                    if (typeof that.file === 'object' && base64.length > that.file.size) {\n\t                        formData = new FormData();\n\t                        file = that.file;\n\t                    } else {\n\t                        formData = new BlobFormDataShim.FormData();\n\t                        file = dataURItoBlob(base64);\n\t                    }\n\t\n\t                    formData.append(that.defaults.fieldName, file, (that.fileName.replace(/\\..+/g, '.jpg')));\n\t\n\t                    resolve({\n\t                        formData: formData,\n\t                        fileLen: +file.size,\n\t                        base64: base64,\n\t                        base64Len: base64.length,\n\t                        origin: that.file,\n\t                        file: file\n\t                    });\n\t\n\t                    // 释放内存\n\t                    for (var p in that) {\n\t                        if (!that.hasOwnProperty(p)) continue;\n\t\n\t                        that[p] = null;\n\t                    }\n\t                    URL.revokeObjectURL(that.blob);\n\t                });\n\t        };\n\t\n\t        // 如果传入的是base64在移动端会报错\n\t        !fileIsBase64 && (img.crossOrigin = \"*\");\n\t\n\t        img.src = blob;\n\t    });\n\t};\n\t\n\t/**\n\t * 检测浏览器是否支持自动旋转图片\n\t *\n\t * 兼容 iOS 13.4.1 以及支持图片自动旋转的浏览器；\n\t * 参照：https://juejin.im/post/5ec26d3c6fb9a043681f83c2\n\t * */\n\tvar testAutoOrientationImageURL =\n\t    'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n\t    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n\t    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n\t    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n\t    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n\t    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\n\tvar isImageAutomaticRotation;\n\tLrz.detectImageAutomaticRotation = function () {\n\t    return new Promise(function (resolve) {\n\t        if (isImageAutomaticRotation === undefined) {\n\t            var img = new Image();\n\t\n\t            img.onload = function () {\n\t                // 如果图片变成 1x2，说明浏览器对图片进行了回正\n\t                isImageAutomaticRotation = img.width === 1 && img.height === 2;\n\t\n\t                resolve(isImageAutomaticRotation);\n\t            };\n\t\n\t            img.src = testAutoOrientationImageURL;\n\t        } else {\n\t            resolve(isImageAutomaticRotation);\n\t        }\n\t    });\n\t}\n\t\n\tLrz.prototype._getBase64 = function () {\n\t    var that = this,\n\t        img = that.img,\n\t        file = that.file,\n\t        canvas = that.canvas;\n\t\n\t    return new Promise(function (resolve) {\n\t        try {\n\t            // 传入blob在android4.3以下有bug\n\t            exif.getData(typeof file === 'object' ? file : img, function () {\n\t                var img = this;\n\t                Lrz.detectImageAutomaticRotation().then(function (supported) {\n\t                    // 兼容 iOS 13.4.1 以及支持图片自动旋转的浏览器；\n\t                    // 参照：https://juejin.im/post/5ec26d3c6fb9a043681f83c2\n\t                    if (!supported) {\n\t                        that.orientation = exif.getTag(img, \"Orientation\");\n\t                    }\n\t\n\t                    that.resize = that._getResize();\n\t                    that.ctx = canvas.getContext('2d');\n\t\n\t                    canvas.width = that.resize.width;\n\t                    canvas.height = that.resize.height;\n\t\n\t                    // 设置为白色背景，jpg是不支持透明的，所以会被默认为canvas默认的黑色背景。\n\t                    that.ctx.fillStyle = '#fff';\n\t                    that.ctx.fillRect(0, 0, canvas.width, canvas.height);\n\t\n\t                    // 根据设备对应处理方式\n\t                    if (UA.oldIOS) {\n\t                        that._createBase64ForOldIOS().then(resolve);\n\t                    }\n\t                    else {\n\t                        that._createBase64().then(resolve);\n\t                    }\n\t                })\n\t\n\t                // // ============================================\n\t\n\t                // console.log(that.orientation, exif.getTag(this, \"Orientation\"))\n\t                // that.orientation = exif.getTag(this, \"Orientation\");\n\t                // that.resize = that._getResize();\n\t                // that.ctx = canvas.getContext('2d');\n\t\n\t                // canvas.width = that.resize.width;\n\t                // canvas.height = that.resize.height;\n\t\n\t                // // 设置为白色背景，jpg是不支持透明的，所以会被默认为canvas默认的黑色背景。\n\t                // that.ctx.fillStyle = '#fff';\n\t                // that.ctx.fillRect(0, 0, canvas.width, canvas.height);\n\t\n\t                // // 根据设备对应处理方式\n\t                // if (UA.oldIOS) {\n\t                //     that._createBase64ForOldIOS().then(resolve);\n\t                // }\n\t                // else {\n\t                //     that._createBase64().then(resolve);\n\t                // }\n\t            });\n\t        } catch (err) {\n\t            // 这样能解决低内存设备闪退的问题吗？\n\t            throw new Error(err);\n\t        }\n\t    });\n\t};\n\t\n\t\n\tLrz.prototype._createBase64ForOldIOS = function () {\n\t    var that = this,\n\t        img = that.img,\n\t        canvas = that.canvas,\n\t        defaults = that.defaults,\n\t        orientation = that.orientation;\n\t\n\t    return new Promise(function (resolve) {\n\t        __webpack_require__.e/* require */(1, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(7)]; (function (MegaPixImage) {\n\t            var mpImg = new MegaPixImage(img);\n\t\n\t            if (\"5678\".indexOf(orientation) > -1) {\n\t                mpImg.render(canvas, {\n\t                    width: canvas.height,\n\t                    height: canvas.width,\n\t                    orientation: orientation\n\t                });\n\t            } else {\n\t                mpImg.render(canvas, {\n\t                    width: canvas.width,\n\t                    height: canvas.height,\n\t                    orientation: orientation\n\t                });\n\t            }\n\t\n\t            resolve(canvas.toDataURL('image/jpeg', defaults.quality));\n\t        }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));});\n\t    });\n\t};\n\t\n\tLrz.prototype._createBase64 = function () {\n\t    var that = this,\n\t        resize = that.resize,\n\t        img = that.img,\n\t        canvas = that.canvas,\n\t        ctx = that.ctx,\n\t        defaults = that.defaults,\n\t        orientation = that.orientation;\n\t\n\t    // 调整为正确方向\n\t    switch (orientation) {\n\t        case 3:\n\t            ctx.rotate(180 * Math.PI / 180);\n\t            ctx.drawImage(img, -resize.width, -resize.height, resize.width, resize.height);\n\t            break;\n\t        case 6:\n\t            ctx.rotate(90 * Math.PI / 180);\n\t            ctx.drawImage(img, 0, -resize.width, resize.height, resize.width);\n\t            break;\n\t        case 8:\n\t            ctx.rotate(270 * Math.PI / 180);\n\t            ctx.drawImage(img, -resize.height, 0, resize.height, resize.width);\n\t            break;\n\t\n\t        case 2:\n\t            ctx.translate(resize.width, 0);\n\t            ctx.scale(-1, 1);\n\t            ctx.drawImage(img, 0, 0, resize.width, resize.height);\n\t            break;\n\t        case 4:\n\t            ctx.translate(resize.width, 0);\n\t            ctx.scale(-1, 1);\n\t            ctx.rotate(180 * Math.PI / 180);\n\t            ctx.drawImage(img, -resize.width, -resize.height, resize.width, resize.height);\n\t            break;\n\t        case 5:\n\t            ctx.translate(resize.width, 0);\n\t            ctx.scale(-1, 1);\n\t            ctx.rotate(90 * Math.PI / 180);\n\t            ctx.drawImage(img, 0, -resize.width, resize.height, resize.width);\n\t            break;\n\t        case 7:\n\t            ctx.translate(resize.width, 0);\n\t            ctx.scale(-1, 1);\n\t            ctx.rotate(270 * Math.PI / 180);\n\t            ctx.drawImage(img, -resize.height, 0, resize.height, resize.width);\n\t            break;\n\t\n\t        default:\n\t            ctx.drawImage(img, 0, 0, resize.width, resize.height);\n\t    }\n\t\n\t    return new Promise(function (resolve) {\n\t        if (UA.oldAndroid || UA.mQQBrowser || !navigator.userAgent) {\n\t            __webpack_require__.e/* require */(2, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(8)]; (function (JPEGEncoder) {\n\t                var encoder = new JPEGEncoder(),\n\t                    img = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\t\n\t                resolve(encoder.encode(img, defaults.quality * 100));\n\t            }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));})\n\t        }\n\t        else {\n\t            resolve(canvas.toDataURL('image/jpeg', defaults.quality));\n\t        }\n\t    });\n\t};\n\t\n\tLrz.prototype._getResize = function () {\n\t    var that = this,\n\t        img = that.img,\n\t        defaults = that.defaults,\n\t        width = defaults.width,\n\t        height = defaults.height,\n\t        orientation = that.orientation;\n\t\n\t    var ret = {\n\t        width: img.width,\n\t        height: img.height\n\t    };\n\t\n\t    if (\"5678\".indexOf(orientation) > -1) {\n\t        ret.width = img.height;\n\t        ret.height = img.width;\n\t    }\n\t\n\t    // 如果原图小于设定，采用原图\n\t    if (ret.width < width || ret.height < height) {\n\t        return ret;\n\t    }\n\t\n\t    var scale = ret.width / ret.height;\n\t\n\t    if (width && height) {\n\t        if (scale >= width / height) {\n\t            if (ret.width > width) {\n\t                ret.width = width;\n\t                ret.height = Math.ceil(width / scale);\n\t            }\n\t        } else {\n\t            if (ret.height > height) {\n\t                ret.height = height;\n\t                ret.width = Math.ceil(height * scale);\n\t            }\n\t        }\n\t    }\n\t    else if (width) {\n\t        if (width < ret.width) {\n\t            ret.width = width;\n\t            ret.height = Math.ceil(width / scale);\n\t        }\n\t    }\n\t    else if (height) {\n\t        if (height < ret.height) {\n\t            ret.width = Math.ceil(height * scale);\n\t            ret.height = height;\n\t        }\n\t    }\n\t\n\t    // 超过这个值base64无法生成，在IOS上\n\t    while (ret.width >= 3264 || ret.height >= 2448) {\n\t        ret.width *= 0.8;\n\t        ret.height *= 0.8;\n\t    }\n\t\n\t    return ret;\n\t};\n\t\n\t/**\n\t * 获取当前js文件所在路径，必须得在代码顶部执行此函数\n\t * @returns {string}\n\t */\n\tfunction getJsDir(src) {\n\t    var script = null;\n\t\n\t    if (src) {\n\t        script = [].filter.call(document.scripts, function (v) {\n\t            return v.src.indexOf(src) !== -1;\n\t        })[0];\n\t    } else {\n\t        script = document.scripts[document.scripts.length - 1];\n\t    }\n\t\n\t    if (!script) return null;\n\t\n\t    return script.src.substr(0, script.src.lastIndexOf('/'));\n\t}\n\t\n\t\n\t/**\n\t * 转换成formdata\n\t * @param dataURI\n\t * @returns {*}\n\t *\n\t * @source http://stackoverflow.com/questions/4998908/convert-data-uri-to-file-then-append-to-formdata\n\t */\n\tfunction dataURItoBlob(dataURI) {\n\t    // convert base64/URLEncoded data component to raw binary data held in a string\n\t    var byteString;\n\t    if (dataURI.split(',')[0].indexOf('base64') >= 0)\n\t        byteString = atob(dataURI.split(',')[1]);\n\t    else\n\t        byteString = unescape(dataURI.split(',')[1]);\n\t\n\t    // separate out the mime component\n\t    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\t\n\t    // write the bytes of the string to a typed array\n\t    var ia = new Uint8Array(byteString.length);\n\t    for (var i = 0; i < byteString.length; i++) {\n\t        ia[i] = byteString.charCodeAt(i);\n\t    }\n\t\n\t    return new BlobFormDataShim.Blob([ia.buffer], { type: mimeString });\n\t}\n\t\n\twindow.lrz = function (file, opts) {\n\t    return new Lrz(file, opts);\n\t};\n\t\n\t// 版本号来自package.json，构建时自动填充\n\twindow.lrz.version = '4.9.40';\n\t\n\tmodule.exports = window.lrz;\n\t\n\t/**\n\t *\n\t * 　　　┏┓　　　┏┓\n\t * 　　┏┛┻━━━┛┻┓\n\t * 　　┃　　　　　　　┃\n\t * 　　┃　　　━　　　┃\n\t * 　　┃　┳┛　┗┳　┃\n\t * 　　┃　　　　　　　┃\n\t * 　　┃　　　┻　　　┃\n\t * 　　┃　　　　　　　┃\n\t * 　　┗━┓　　　┏━┛Code is far away from bug with the animal protecting\n\t * 　　　　┃　　　┃    神兽保佑,代码无bug\n\t * 　　　　┃　　　┃\n\t * 　　　　┃　　　┗━━━┓\n\t * 　　　　┃　　　　　 ┣┓\n\t * 　　　　┃　　　　 ┏┛\n\t * 　　　　┗┓┓┏━┳┓┏┛\n\t * 　　　　　┃┫┫　┃┫┫\n\t * 　　　　　┗┻┛　┗┻┛\n\t *\n\t */\n\t\n\t\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {\n\t\n\t    // Use polyfill for setImmediate for performance gains\n\t    var asap = (typeof setImmediate === 'function' && setImmediate) ||\n\t        function (fn) {\n\t            setTimeout(fn, 1);\n\t        };\n\t\n\t    // Polyfill for Function.prototype.bind\n\t    function bind (fn, thisArg) {\n\t        return function () {\n\t            fn.apply(thisArg, arguments);\n\t        }\n\t    }\n\t\n\t    var isArray = Array.isArray || function (value) {\n\t            return Object.prototype.toString.call(value) === \"[object Array]\"\n\t        };\n\t\n\t    function Promise (fn) {\n\t        if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n\t        if (typeof fn !== 'function') throw new TypeError('not a function');\n\t        this._state     = null;\n\t        this._value     = null;\n\t        this._deferreds = []\n\t\n\t        doResolve(fn, bind(resolve, this), bind(reject, this))\n\t    }\n\t\n\t    function handle (deferred) {\n\t        var me = this;\n\t        if (this._state === null) {\n\t            this._deferreds.push(deferred);\n\t            return\n\t        }\n\t        asap(function () {\n\t            var cb = me._state ? deferred.onFulfilled : deferred.onRejected\n\t            if (cb === null) {\n\t                (me._state ? deferred.resolve : deferred.reject)(me._value);\n\t                return;\n\t            }\n\t            var ret;\n\t            try {\n\t                ret = cb(me._value);\n\t            }\n\t            catch (e) {\n\t                deferred.reject(e);\n\t                return;\n\t            }\n\t            deferred.resolve(ret);\n\t        })\n\t    }\n\t\n\t    function resolve (newValue) {\n\t        try { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t            if (newValue === this) throw new TypeError('A promise cannot be resolved with itself.');\n\t            if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n\t                var then = newValue.then;\n\t                if (typeof then === 'function') {\n\t                    doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n\t                    return;\n\t                }\n\t            }\n\t            this._state = true;\n\t            this._value = newValue;\n\t            finale.call(this);\n\t        } catch (e) {\n\t            reject.call(this, e);\n\t        }\n\t    }\n\t\n\t    function reject (newValue) {\n\t        this._state = false;\n\t        this._value = newValue;\n\t        finale.call(this);\n\t    }\n\t\n\t    function finale () {\n\t        for (var i = 0, len = this._deferreds.length; i < len; i++) {\n\t            handle.call(this, this._deferreds[i]);\n\t        }\n\t        this._deferreds = null;\n\t    }\n\t\n\t    function Handler (onFulfilled, onRejected, resolve, reject) {\n\t        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t        this.onRejected  = typeof onRejected === 'function' ? onRejected : null;\n\t        this.resolve     = resolve;\n\t        this.reject      = reject;\n\t    }\n\t\n\t    /**\n\t     * Take a potentially misbehaving resolver function and make sure\n\t     * onFulfilled and onRejected are only called once.\n\t     *\n\t     * Makes no guarantees about asynchrony.\n\t     */\n\t    function doResolve (fn, onFulfilled, onRejected) {\n\t        var done = false;\n\t        try {\n\t            fn(function (value) {\n\t                if (done) return;\n\t                done = true;\n\t                onFulfilled(value);\n\t            }, function (reason) {\n\t                if (done) return;\n\t                done = true;\n\t                onRejected(reason);\n\t            })\n\t        } catch (ex) {\n\t            if (done) return;\n\t            done = true;\n\t            onRejected(ex);\n\t        }\n\t    }\n\t\n\t    Promise.prototype['catch'] = function (onRejected) {\n\t        return this.then(null, onRejected);\n\t    };\n\t\n\t    Promise.prototype.then = function (onFulfilled, onRejected) {\n\t        var me = this;\n\t        return new Promise(function (resolve, reject) {\n\t            handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n\t        })\n\t    };\n\t\n\t    Promise.all = function () {\n\t        var args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n\t\n\t        return new Promise(function (resolve, reject) {\n\t            if (args.length === 0) return resolve([]);\n\t            var remaining = args.length;\n\t\n\t            function res (i, val) {\n\t                try {\n\t                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n\t                        var then = val.then;\n\t                        if (typeof then === 'function') {\n\t                            then.call(val, function (val) {\n\t                                res(i, val)\n\t                            }, reject);\n\t                            return;\n\t                        }\n\t                    }\n\t                    args[i] = val;\n\t                    if (--remaining === 0) {\n\t                        resolve(args);\n\t                    }\n\t                } catch (ex) {\n\t                    reject(ex);\n\t                }\n\t            }\n\t\n\t            for (var i = 0; i < args.length; i++) {\n\t                res(i, args[i]);\n\t            }\n\t        });\n\t    };\n\t\n\t    Promise.resolve = function (value) {\n\t        if (value && typeof value === 'object' && value.constructor === Promise) {\n\t            return value;\n\t        }\n\t\n\t        return new Promise(function (resolve) {\n\t            resolve(value);\n\t        });\n\t    };\n\t\n\t    Promise.reject = function (value) {\n\t        return new Promise(function (resolve, reject) {\n\t            reject(value);\n\t        });\n\t    };\n\t\n\t    Promise.race = function (values) {\n\t        return new Promise(function (resolve, reject) {\n\t            for (var i = 0, len = values.length; i < len; i++) {\n\t                values[i].then(resolve, reject);\n\t            }\n\t        });\n\t    };\n\t\n\t    /**\n\t     * Set the immediate function to execute callbacks\n\t     * @param fn {function} Function to execute\n\t     * @private\n\t     */\n\t    Promise._setImmediateFn = function _setImmediateFn (fn) {\n\t        asap = fn;\n\t    };\n\t\n\t\n\t    Promise.prototype.always = function (callback) {\n\t        var constructor = this.constructor;\n\t\n\t        return this.then(function (value) {\n\t            return constructor.resolve(callback()).then(function () {\n\t                return value;\n\t            });\n\t        }, function (reason) {\n\t            return constructor.resolve(callback()).then(function () {\n\t                throw reason;\n\t            });\n\t        });\n\t    };\n\t\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t        module.exports = Promise;\n\t    } else if (!root.Promise) {\n\t        root.Promise = Promise;\n\t    }\n\t\n\t})(this);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== \"undefined\" && global) ||\n\t            (typeof self !== \"undefined\" && self) ||\n\t            window;\n\tvar apply = Function.prototype.apply;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) {\n\t  if (timeout) {\n\t    timeout.close();\n\t  }\n\t};\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(scope, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// setimmediate attaches itself to the global object\n\t__webpack_require__(3);\n\t// On some exotic environments, it's not clear which object `setimmediate` was\n\t// able to install onto.  Search each possibility in the same order as the\n\t// `setimmediate` library.\n\texports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n\t                       (typeof global !== \"undefined\" && global.setImmediate) ||\n\t                       (this && this.setImmediate);\n\texports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n\t                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n\t                         (this && this.clearImmediate);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n\t    \"use strict\";\n\t\n\t    if (global.setImmediate) {\n\t        return;\n\t    }\n\t\n\t    var nextHandle = 1; // Spec says greater than zero\n\t    var tasksByHandle = {};\n\t    var currentlyRunningATask = false;\n\t    var doc = global.document;\n\t    var registerImmediate;\n\t\n\t    function setImmediate(callback) {\n\t      // Callback can either be a function or a string\n\t      if (typeof callback !== \"function\") {\n\t        callback = new Function(\"\" + callback);\n\t      }\n\t      // Copy function arguments\n\t      var args = new Array(arguments.length - 1);\n\t      for (var i = 0; i < args.length; i++) {\n\t          args[i] = arguments[i + 1];\n\t      }\n\t      // Store and register the task\n\t      var task = { callback: callback, args: args };\n\t      tasksByHandle[nextHandle] = task;\n\t      registerImmediate(nextHandle);\n\t      return nextHandle++;\n\t    }\n\t\n\t    function clearImmediate(handle) {\n\t        delete tasksByHandle[handle];\n\t    }\n\t\n\t    function run(task) {\n\t        var callback = task.callback;\n\t        var args = task.args;\n\t        switch (args.length) {\n\t        case 0:\n\t            callback();\n\t            break;\n\t        case 1:\n\t            callback(args[0]);\n\t            break;\n\t        case 2:\n\t            callback(args[0], args[1]);\n\t            break;\n\t        case 3:\n\t            callback(args[0], args[1], args[2]);\n\t            break;\n\t        default:\n\t            callback.apply(undefined, args);\n\t            break;\n\t        }\n\t    }\n\t\n\t    function runIfPresent(handle) {\n\t        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n\t        // So if we're currently running a task, we'll need to delay this invocation.\n\t        if (currentlyRunningATask) {\n\t            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n\t            // \"too much recursion\" error.\n\t            setTimeout(runIfPresent, 0, handle);\n\t        } else {\n\t            var task = tasksByHandle[handle];\n\t            if (task) {\n\t                currentlyRunningATask = true;\n\t                try {\n\t                    run(task);\n\t                } finally {\n\t                    clearImmediate(handle);\n\t                    currentlyRunningATask = false;\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    function installNextTickImplementation() {\n\t        registerImmediate = function(handle) {\n\t            process.nextTick(function () { runIfPresent(handle); });\n\t        };\n\t    }\n\t\n\t    function canUsePostMessage() {\n\t        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n\t        // where `global.postMessage` means something completely different and can't be used for this purpose.\n\t        if (global.postMessage && !global.importScripts) {\n\t            var postMessageIsAsynchronous = true;\n\t            var oldOnMessage = global.onmessage;\n\t            global.onmessage = function() {\n\t                postMessageIsAsynchronous = false;\n\t            };\n\t            global.postMessage(\"\", \"*\");\n\t            global.onmessage = oldOnMessage;\n\t            return postMessageIsAsynchronous;\n\t        }\n\t    }\n\t\n\t    function installPostMessageImplementation() {\n\t        // Installs an event handler on `global` for the `message` event: see\n\t        // * https://developer.mozilla.org/en/DOM/window.postMessage\n\t        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\t\n\t        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n\t        var onGlobalMessage = function(event) {\n\t            if (event.source === global &&\n\t                typeof event.data === \"string\" &&\n\t                event.data.indexOf(messagePrefix) === 0) {\n\t                runIfPresent(+event.data.slice(messagePrefix.length));\n\t            }\n\t        };\n\t\n\t        if (global.addEventListener) {\n\t            global.addEventListener(\"message\", onGlobalMessage, false);\n\t        } else {\n\t            global.attachEvent(\"onmessage\", onGlobalMessage);\n\t        }\n\t\n\t        registerImmediate = function(handle) {\n\t            global.postMessage(messagePrefix + handle, \"*\");\n\t        };\n\t    }\n\t\n\t    function installMessageChannelImplementation() {\n\t        var channel = new MessageChannel();\n\t        channel.port1.onmessage = function(event) {\n\t            var handle = event.data;\n\t            runIfPresent(handle);\n\t        };\n\t\n\t        registerImmediate = function(handle) {\n\t            channel.port2.postMessage(handle);\n\t        };\n\t    }\n\t\n\t    function installReadyStateChangeImplementation() {\n\t        var html = doc.documentElement;\n\t        registerImmediate = function(handle) {\n\t            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n\t            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n\t            var script = doc.createElement(\"script\");\n\t            script.onreadystatechange = function () {\n\t                runIfPresent(handle);\n\t                script.onreadystatechange = null;\n\t                html.removeChild(script);\n\t                script = null;\n\t            };\n\t            html.appendChild(script);\n\t        };\n\t    }\n\t\n\t    function installSetTimeoutImplementation() {\n\t        registerImmediate = function(handle) {\n\t            setTimeout(runIfPresent, 0, handle);\n\t        };\n\t    }\n\t\n\t    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n\t    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n\t    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\t\n\t    // Don't get fooled by e.g. browserify environments.\n\t    if ({}.toString.call(global.process) === \"[object process]\") {\n\t        // For Node.js before 0.9\n\t        installNextTickImplementation();\n\t\n\t    } else if (canUsePostMessage()) {\n\t        // For non-IE10 modern browsers\n\t        installPostMessageImplementation();\n\t\n\t    } else if (global.MessageChannel) {\n\t        // For web workers, where supported\n\t        installMessageChannelImplementation();\n\t\n\t    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n\t        // For IE 6–8\n\t        installReadyStateChangeImplementation();\n\t\n\t    } else {\n\t        // For older browsers\n\t        installSetTimeoutImplementation();\n\t    }\n\t\n\t    attachTo.setImmediate = setImmediate;\n\t    attachTo.clearImmediate = clearImmediate;\n\t}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(4)))\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t//@source https://xts.so/demo/compress/index.html\n\t\n\t// 早期版本的浏览器需要用BlobBuilder来构造Blob，创建一个通用构造器来兼容早期版本\n\tvar BlobConstructor = ((function () {\n\t    try {\n\t        new Blob();\n\t        return true;\n\t    } catch (e) {\n\t        return false;\n\t    }\n\t})()) ? window.Blob : function (parts, opts) {\n\t    var bb = new (\n\t        window.BlobBuilder\n\t        || window.WebKitBlobBuilder\n\t        || window.MSBlobBuilder\n\t        || window.MozBlobBuilder\n\t    );\n\t    parts.forEach(function (p) {\n\t        bb.append(p);\n\t    });\n\t\n\t    return bb.getBlob(opts ? opts.type : undefined);\n\t};\n\t\n\t// Android上的AppleWebKit 534以前的内核存在一个Bug，\n\t// 导致FormData加入一个Blob对象后，上传的文件是0字节\n\tfunction hasFormDataBug () {\n\t    var bCheck = ~navigator.userAgent.indexOf('Android')\n\t        && ~navigator.vendor.indexOf('Google')\n\t        && !~navigator.userAgent.indexOf('Chrome');\n\t\n\t    // QQ X5浏览器也有这个BUG\n\t    return bCheck && navigator.userAgent.match(/AppleWebKit\\/(\\d+)/).pop() <= 534 || /MQQBrowser/g.test(navigator.userAgent);\n\t}\n\tvar FormDataShim=(function(){\n\t    var formDataShimNums = 0;\n\t    function FormDataShim () {\n\t        var\n\t        // Store a reference to this\n\t        o        = this,\n\t    \n\t        // Data to be sent\n\t        parts = [],\n\t    \n\t        // Boundary parameter for separating the multipart values\n\t        boundary = Array(21).join('-') + (+new Date() * (1e16 * Math.random())).toString(36),\n\t    \n\t        // Store the current XHR send method so we can safely override it\n\t        oldSend  = XMLHttpRequest.prototype.send;\n\t        this.getParts = function () {\n\t            return parts.toString();\n\t        };\n\t        this.append   = function (name, value, filename) {\n\t            parts.push('--' + boundary + '\\r\\nContent-Disposition: form-data; name=\"' + name + '\"');\n\t    \n\t            if (value instanceof Blob) {\n\t                parts.push('; filename=\"' + (filename || 'blob') + '\"\\r\\nContent-Type: ' + value.type + '\\r\\n\\r\\n');\n\t                parts.push(value);\n\t            }\n\t            else {\n\t                parts.push('\\r\\n\\r\\n' + value);\n\t            }\n\t            parts.push('\\r\\n');\n\t        };\n\t    \n\t        formDataShimNums++;\n\t        XMLHttpRequest.prototype.send = function (val) {\n\t            var fr,\n\t                data,\n\t                oXHR = this;\n\t    \n\t            if (val === o) {\n\t                // Append the final boundary string\n\t                parts.push('--' + boundary + '--\\r\\n');\n\t                // Create the blob\n\t                data = new BlobConstructor(parts);\n\t    \n\t                // Set up and read the blob into an array to be sent\n\t                fr         = new FileReader();\n\t                fr.onload  = function () {\n\t                    oldSend.call(oXHR, fr.result);\n\t                };\n\t                fr.onerror = function (err) {\n\t                    throw err;\n\t                };\n\t                fr.readAsArrayBuffer(data);\n\t    \n\t                // Set the multipart content type and boudary\n\t                this.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);\n\t                formDataShimNums--;\n\t                if(formDataShimNums == 0){\n\t                    XMLHttpRequest.prototype.send = oldSend;\n\t                }\n\t            }\n\t            else {\n\t                oldSend.call(this, val);\n\t            }\n\t        };\n\t    };\n\t    FormDataShim.prototype = Object.create(FormData.prototype);\n\t    return FormDataShim;\n\t})();\n\t\n\t\n\tmodule.exports = {\n\t    Blob    : BlobConstructor,\n\t    FormData: hasFormDataBug() ? FormDataShim : FormData\n\t};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function () {\n\t\n\t  var debug = false;\n\t\n\t  var root = this;\n\t\n\t  var EXIF = function (obj) {\n\t    if (obj instanceof EXIF) return obj;\n\t    if (!(this instanceof EXIF)) return new EXIF(obj);\n\t    this.EXIFwrapped = obj;\n\t  };\n\t\n\t  if (true) {\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t      exports = module.exports = EXIF;\n\t    }\n\t    exports.EXIF = EXIF;\n\t  } else {\n\t    root.EXIF = EXIF;\n\t  }\n\t\n\t  var ExifTags = EXIF.Tags = {\n\t\n\t    // version tags\n\t    0x9000: \"ExifVersion\",             // EXIF version\n\t    0xA000: \"FlashpixVersion\",         // Flashpix format version\n\t\n\t    // colorspace tags\n\t    0xA001: \"ColorSpace\",              // Color space information tag\n\t\n\t    // image configuration\n\t    0xA002: \"PixelXDimension\",         // Valid width of meaningful image\n\t    0xA003: \"PixelYDimension\",         // Valid height of meaningful image\n\t    0x9101: \"ComponentsConfiguration\", // Information about channels\n\t    0x9102: \"CompressedBitsPerPixel\",  // Compressed bits per pixel\n\t\n\t    // user information\n\t    0x927C: \"MakerNote\",               // Any desired information written by the manufacturer\n\t    0x9286: \"UserComment\",             // Comments by user\n\t\n\t    // related file\n\t    0xA004: \"RelatedSoundFile\",        // Name of related sound file\n\t\n\t    // date and time\n\t    0x9003: \"DateTimeOriginal\",        // Date and time when the original image was generated\n\t    0x9004: \"DateTimeDigitized\",       // Date and time when the image was stored digitally\n\t    0x9290: \"SubsecTime\",              // Fractions of seconds for DateTime\n\t    0x9291: \"SubsecTimeOriginal\",      // Fractions of seconds for DateTimeOriginal\n\t    0x9292: \"SubsecTimeDigitized\",     // Fractions of seconds for DateTimeDigitized\n\t\n\t    // picture-taking conditions\n\t    0x829A: \"ExposureTime\",            // Exposure time (in seconds)\n\t    0x829D: \"FNumber\",                 // F number\n\t    0x8822: \"ExposureProgram\",         // Exposure program\n\t    0x8824: \"SpectralSensitivity\",     // Spectral sensitivity\n\t    0x8827: \"ISOSpeedRatings\",         // ISO speed rating\n\t    0x8828: \"OECF\",                    // Optoelectric conversion factor\n\t    0x9201: \"ShutterSpeedValue\",       // Shutter speed\n\t    0x9202: \"ApertureValue\",           // Lens aperture\n\t    0x9203: \"BrightnessValue\",         // Value of brightness\n\t    0x9204: \"ExposureBias\",            // Exposure bias\n\t    0x9205: \"MaxApertureValue\",        // Smallest F number of lens\n\t    0x9206: \"SubjectDistance\",         // Distance to subject in meters\n\t    0x9207: \"MeteringMode\",            // Metering mode\n\t    0x9208: \"LightSource\",             // Kind of light source\n\t    0x9209: \"Flash\",                   // Flash status\n\t    0x9214: \"SubjectArea\",             // Location and area of main subject\n\t    0x920A: \"FocalLength\",             // Focal length of the lens in mm\n\t    0xA20B: \"FlashEnergy\",             // Strobe energy in BCPS\n\t    0xA20C: \"SpatialFrequencyResponse\",    //\n\t    0xA20E: \"FocalPlaneXResolution\",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n\t    0xA20F: \"FocalPlaneYResolution\",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n\t    0xA210: \"FocalPlaneResolutionUnit\",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n\t    0xA214: \"SubjectLocation\",         // Location of subject in image\n\t    0xA215: \"ExposureIndex\",           // Exposure index selected on camera\n\t    0xA217: \"SensingMethod\",           // Image sensor type\n\t    0xA300: \"FileSource\",              // Image source (3 == DSC)\n\t    0xA301: \"SceneType\",               // Scene type (1 == directly photographed)\n\t    0xA302: \"CFAPattern\",              // Color filter array geometric pattern\n\t    0xA401: \"CustomRendered\",          // Special processing\n\t    0xA402: \"ExposureMode\",            // Exposure mode\n\t    0xA403: \"WhiteBalance\",            // 1 = auto white balance, 2 = manual\n\t    0xA404: \"DigitalZoomRation\",       // Digital zoom ratio\n\t    0xA405: \"FocalLengthIn35mmFilm\",   // Equivalent foacl length assuming 35mm film camera (in mm)\n\t    0xA406: \"SceneCaptureType\",        // Type of scene\n\t    0xA407: \"GainControl\",             // Degree of overall image gain adjustment\n\t    0xA408: \"Contrast\",                // Direction of contrast processing applied by camera\n\t    0xA409: \"Saturation\",              // Direction of saturation processing applied by camera\n\t    0xA40A: \"Sharpness\",               // Direction of sharpness processing applied by camera\n\t    0xA40B: \"DeviceSettingDescription\",    //\n\t    0xA40C: \"SubjectDistanceRange\",    // Distance to subject\n\t\n\t    // other tags\n\t    0xA005: \"InteroperabilityIFDPointer\",\n\t    0xA420: \"ImageUniqueID\"            // Identifier assigned uniquely to each image\n\t  };\n\t\n\t  var TiffTags = EXIF.TiffTags = {\n\t    0x0100: \"ImageWidth\",\n\t    0x0101: \"ImageHeight\",\n\t    0x8769: \"ExifIFDPointer\",\n\t    0x8825: \"GPSInfoIFDPointer\",\n\t    0xA005: \"InteroperabilityIFDPointer\",\n\t    0x0102: \"BitsPerSample\",\n\t    0x0103: \"Compression\",\n\t    0x0106: \"PhotometricInterpretation\",\n\t    0x0112: \"Orientation\",\n\t    0x0115: \"SamplesPerPixel\",\n\t    0x011C: \"PlanarConfiguration\",\n\t    0x0212: \"YCbCrSubSampling\",\n\t    0x0213: \"YCbCrPositioning\",\n\t    0x011A: \"XResolution\",\n\t    0x011B: \"YResolution\",\n\t    0x0128: \"ResolutionUnit\",\n\t    0x0111: \"StripOffsets\",\n\t    0x0116: \"RowsPerStrip\",\n\t    0x0117: \"StripByteCounts\",\n\t    0x0201: \"JPEGInterchangeFormat\",\n\t    0x0202: \"JPEGInterchangeFormatLength\",\n\t    0x012D: \"TransferFunction\",\n\t    0x013E: \"WhitePoint\",\n\t    0x013F: \"PrimaryChromaticities\",\n\t    0x0211: \"YCbCrCoefficients\",\n\t    0x0214: \"ReferenceBlackWhite\",\n\t    0x0132: \"DateTime\",\n\t    0x010E: \"ImageDescription\",\n\t    0x010F: \"Make\",\n\t    0x0110: \"Model\",\n\t    0x0131: \"Software\",\n\t    0x013B: \"Artist\",\n\t    0x8298: \"Copyright\"\n\t  };\n\t\n\t  var GPSTags = EXIF.GPSTags = {\n\t    0x0000: \"GPSVersionID\",\n\t    0x0001: \"GPSLatitudeRef\",\n\t    0x0002: \"GPSLatitude\",\n\t    0x0003: \"GPSLongitudeRef\",\n\t    0x0004: \"GPSLongitude\",\n\t    0x0005: \"GPSAltitudeRef\",\n\t    0x0006: \"GPSAltitude\",\n\t    0x0007: \"GPSTimeStamp\",\n\t    0x0008: \"GPSSatellites\",\n\t    0x0009: \"GPSStatus\",\n\t    0x000A: \"GPSMeasureMode\",\n\t    0x000B: \"GPSDOP\",\n\t    0x000C: \"GPSSpeedRef\",\n\t    0x000D: \"GPSSpeed\",\n\t    0x000E: \"GPSTrackRef\",\n\t    0x000F: \"GPSTrack\",\n\t    0x0010: \"GPSImgDirectionRef\",\n\t    0x0011: \"GPSImgDirection\",\n\t    0x0012: \"GPSMapDatum\",\n\t    0x0013: \"GPSDestLatitudeRef\",\n\t    0x0014: \"GPSDestLatitude\",\n\t    0x0015: \"GPSDestLongitudeRef\",\n\t    0x0016: \"GPSDestLongitude\",\n\t    0x0017: \"GPSDestBearingRef\",\n\t    0x0018: \"GPSDestBearing\",\n\t    0x0019: \"GPSDestDistanceRef\",\n\t    0x001A: \"GPSDestDistance\",\n\t    0x001B: \"GPSProcessingMethod\",\n\t    0x001C: \"GPSAreaInformation\",\n\t    0x001D: \"GPSDateStamp\",\n\t    0x001E: \"GPSDifferential\"\n\t  };\n\t\n\t  // EXIF 2.3 Spec\n\t  var IFD1Tags = EXIF.IFD1Tags = {\n\t    0x0100: \"ImageWidth\",\n\t    0x0101: \"ImageHeight\",\n\t    0x0102: \"BitsPerSample\",\n\t    0x0103: \"Compression\",\n\t    0x0106: \"PhotometricInterpretation\",\n\t    0x0111: \"StripOffsets\",\n\t    0x0112: \"Orientation\",\n\t    0x0115: \"SamplesPerPixel\",\n\t    0x0116: \"RowsPerStrip\",\n\t    0x0117: \"StripByteCounts\",\n\t    0x011A: \"XResolution\",\n\t    0x011B: \"YResolution\",\n\t    0x011C: \"PlanarConfiguration\",\n\t    0x0128: \"ResolutionUnit\",\n\t    0x0201: \"JpegIFOffset\",    // When image format is JPEG, this value show offset to JPEG data stored.(aka \"ThumbnailOffset\" or \"JPEGInterchangeFormat\")\n\t    0x0202: \"JpegIFByteCount\", // When image format is JPEG, this value shows data size of JPEG image (aka \"ThumbnailLength\" or \"JPEGInterchangeFormatLength\")\n\t    0x0211: \"YCbCrCoefficients\",\n\t    0x0212: \"YCbCrSubSampling\",\n\t    0x0213: \"YCbCrPositioning\",\n\t    0x0214: \"ReferenceBlackWhite\"\n\t  };\n\t\n\t  var StringValues = EXIF.StringValues = {\n\t    ExposureProgram: {\n\t      0: \"Not defined\",\n\t      1: \"Manual\",\n\t      2: \"Normal program\",\n\t      3: \"Aperture priority\",\n\t      4: \"Shutter priority\",\n\t      5: \"Creative program\",\n\t      6: \"Action program\",\n\t      7: \"Portrait mode\",\n\t      8: \"Landscape mode\"\n\t    },\n\t    MeteringMode: {\n\t      0: \"Unknown\",\n\t      1: \"Average\",\n\t      2: \"CenterWeightedAverage\",\n\t      3: \"Spot\",\n\t      4: \"MultiSpot\",\n\t      5: \"Pattern\",\n\t      6: \"Partial\",\n\t      255: \"Other\"\n\t    },\n\t    LightSource: {\n\t      0: \"Unknown\",\n\t      1: \"Daylight\",\n\t      2: \"Fluorescent\",\n\t      3: \"Tungsten (incandescent light)\",\n\t      4: \"Flash\",\n\t      9: \"Fine weather\",\n\t      10: \"Cloudy weather\",\n\t      11: \"Shade\",\n\t      12: \"Daylight fluorescent (D 5700 - 7100K)\",\n\t      13: \"Day white fluorescent (N 4600 - 5400K)\",\n\t      14: \"Cool white fluorescent (W 3900 - 4500K)\",\n\t      15: \"White fluorescent (WW 3200 - 3700K)\",\n\t      17: \"Standard light A\",\n\t      18: \"Standard light B\",\n\t      19: \"Standard light C\",\n\t      20: \"D55\",\n\t      21: \"D65\",\n\t      22: \"D75\",\n\t      23: \"D50\",\n\t      24: \"ISO studio tungsten\",\n\t      255: \"Other\"\n\t    },\n\t    Flash: {\n\t      0x0000: \"Flash did not fire\",\n\t      0x0001: \"Flash fired\",\n\t      0x0005: \"Strobe return light not detected\",\n\t      0x0007: \"Strobe return light detected\",\n\t      0x0009: \"Flash fired, compulsory flash mode\",\n\t      0x000D: \"Flash fired, compulsory flash mode, return light not detected\",\n\t      0x000F: \"Flash fired, compulsory flash mode, return light detected\",\n\t      0x0010: \"Flash did not fire, compulsory flash mode\",\n\t      0x0018: \"Flash did not fire, auto mode\",\n\t      0x0019: \"Flash fired, auto mode\",\n\t      0x001D: \"Flash fired, auto mode, return light not detected\",\n\t      0x001F: \"Flash fired, auto mode, return light detected\",\n\t      0x0020: \"No flash function\",\n\t      0x0041: \"Flash fired, red-eye reduction mode\",\n\t      0x0045: \"Flash fired, red-eye reduction mode, return light not detected\",\n\t      0x0047: \"Flash fired, red-eye reduction mode, return light detected\",\n\t      0x0049: \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n\t      0x004D: \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n\t      0x004F: \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n\t      0x0059: \"Flash fired, auto mode, red-eye reduction mode\",\n\t      0x005D: \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n\t      0x005F: \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n\t    },\n\t    SensingMethod: {\n\t      1: \"Not defined\",\n\t      2: \"One-chip color area sensor\",\n\t      3: \"Two-chip color area sensor\",\n\t      4: \"Three-chip color area sensor\",\n\t      5: \"Color sequential area sensor\",\n\t      7: \"Trilinear sensor\",\n\t      8: \"Color sequential linear sensor\"\n\t    },\n\t    SceneCaptureType: {\n\t      0: \"Standard\",\n\t      1: \"Landscape\",\n\t      2: \"Portrait\",\n\t      3: \"Night scene\"\n\t    },\n\t    SceneType: {\n\t      1: \"Directly photographed\"\n\t    },\n\t    CustomRendered: {\n\t      0: \"Normal process\",\n\t      1: \"Custom process\"\n\t    },\n\t    WhiteBalance: {\n\t      0: \"Auto white balance\",\n\t      1: \"Manual white balance\"\n\t    },\n\t    GainControl: {\n\t      0: \"None\",\n\t      1: \"Low gain up\",\n\t      2: \"High gain up\",\n\t      3: \"Low gain down\",\n\t      4: \"High gain down\"\n\t    },\n\t    Contrast: {\n\t      0: \"Normal\",\n\t      1: \"Soft\",\n\t      2: \"Hard\"\n\t    },\n\t    Saturation: {\n\t      0: \"Normal\",\n\t      1: \"Low saturation\",\n\t      2: \"High saturation\"\n\t    },\n\t    Sharpness: {\n\t      0: \"Normal\",\n\t      1: \"Soft\",\n\t      2: \"Hard\"\n\t    },\n\t    SubjectDistanceRange: {\n\t      0: \"Unknown\",\n\t      1: \"Macro\",\n\t      2: \"Close view\",\n\t      3: \"Distant view\"\n\t    },\n\t    FileSource: {\n\t      3: \"DSC\"\n\t    },\n\t\n\t    Components: {\n\t      0: \"\",\n\t      1: \"Y\",\n\t      2: \"Cb\",\n\t      3: \"Cr\",\n\t      4: \"R\",\n\t      5: \"G\",\n\t      6: \"B\"\n\t    }\n\t  };\n\t\n\t  function addEvent(element, event, handler) {\n\t    if (element.addEventListener) {\n\t      element.addEventListener(event, handler, false);\n\t    } else if (element.attachEvent) {\n\t      element.attachEvent(\"on\" + event, handler);\n\t    }\n\t  }\n\t\n\t  function imageHasData(img) {\n\t    return !!(img.exifdata);\n\t  }\n\t\n\t\n\t  function base64ToArrayBuffer(base64, contentType) {\n\t    contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n\t    base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n\t    var binary = atob(base64);\n\t    var len = binary.length;\n\t    var buffer = new ArrayBuffer(len);\n\t    var view = new Uint8Array(buffer);\n\t    for (var i = 0; i < len; i++) {\n\t      view[i] = binary.charCodeAt(i);\n\t    }\n\t    return buffer;\n\t  }\n\t\n\t  function objectURLToBlob(url, callback) {\n\t    var http = new XMLHttpRequest();\n\t    http.open(\"GET\", url, true);\n\t    http.responseType = \"blob\";\n\t    http.onload = function (e) {\n\t      if (this.status == 200 || this.status === 0) {\n\t        callback(this.response);\n\t      }\n\t    };\n\t    http.send();\n\t  }\n\t\n\t  function getImageData(img, callback) {\n\t    function handleBinaryFile(binFile) {\n\t      var data = findEXIFinJPEG(binFile);\n\t      img.exifdata = data || {};\n\t      var iptcdata = findIPTCinJPEG(binFile);\n\t      img.iptcdata = iptcdata || {};\n\t      if (EXIF.isXmpEnabled) {\n\t        var xmpdata = findXMPinJPEG(binFile);\n\t        img.xmpdata = xmpdata || {};\n\t      }\n\t      if (callback) {\n\t        callback.call(img);\n\t      }\n\t    }\n\t\n\t    if (img.src) {\n\t      if (/^data\\:/i.test(img.src)) { // Data URI\n\t        var arrayBuffer = base64ToArrayBuffer(img.src);\n\t        handleBinaryFile(arrayBuffer);\n\t\n\t      } else if (/^blob\\:/i.test(img.src)) { // Object URL\n\t        var fileReader = new FileReader();\n\t        fileReader.onload = function (e) {\n\t          handleBinaryFile(e.target.result);\n\t        };\n\t        objectURLToBlob(img.src, function (blob) {\n\t          fileReader.readAsArrayBuffer(blob);\n\t        });\n\t      } else {\n\t        var http = new XMLHttpRequest();\n\t        http.onload = function () {\n\t          if (this.status == 200 || this.status === 0) {\n\t            handleBinaryFile(http.response);\n\t          } else {\n\t            throw \"Could not load image\";\n\t          }\n\t          http = null;\n\t        };\n\t        http.open(\"GET\", img.src, true);\n\t        http.responseType = \"arraybuffer\";\n\t        http.send(null);\n\t      }\n\t    } else if (self.FileReader && (img instanceof self.Blob || img instanceof self.File)) {\n\t      var fileReader = new FileReader();\n\t      fileReader.onload = function (e) {\n\t        if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n\t        handleBinaryFile(e.target.result);\n\t      };\n\t\n\t      fileReader.readAsArrayBuffer(img);\n\t    }\n\t  }\n\t\n\t  function findEXIFinJPEG(file) {\n\t    var dataView = new DataView(file);\n\t\n\t    if (debug) console.log(\"Got file of length \" + file.byteLength);\n\t    if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n\t      if (debug) console.log(\"Not a valid JPEG\");\n\t      return false; // not a valid jpeg\n\t    }\n\t\n\t    var offset = 2,\n\t      length = file.byteLength,\n\t      marker;\n\t\n\t    while (offset < length) {\n\t      if (dataView.getUint8(offset) != 0xFF) {\n\t        if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n\t        return false; // not a valid marker, something is wrong\n\t      }\n\t\n\t      marker = dataView.getUint8(offset + 1);\n\t      if (debug) console.log(marker);\n\t\n\t      // we could implement handling for other markers here,\n\t      // but we're only looking for 0xFFE1 for EXIF data\n\t\n\t      if (marker == 225) {\n\t        if (debug) console.log(\"Found 0xFFE1 marker\");\n\t\n\t        return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\t\n\t        // offset += 2 + file.getShortAt(offset+2, true);\n\t\n\t      } else {\n\t        offset += 2 + dataView.getUint16(offset + 2);\n\t      }\n\t\n\t    }\n\t\n\t  }\n\t\n\t  function findIPTCinJPEG(file) {\n\t    var dataView = new DataView(file);\n\t\n\t    if (debug) console.log(\"Got file of length \" + file.byteLength);\n\t    if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n\t      if (debug) console.log(\"Not a valid JPEG\");\n\t      return false; // not a valid jpeg\n\t    }\n\t\n\t    var offset = 2,\n\t      length = file.byteLength;\n\t\n\t\n\t    var isFieldSegmentStart = function (dataView, offset) {\n\t      return (\n\t        dataView.getUint8(offset) === 0x38 &&\n\t        dataView.getUint8(offset + 1) === 0x42 &&\n\t        dataView.getUint8(offset + 2) === 0x49 &&\n\t        dataView.getUint8(offset + 3) === 0x4D &&\n\t        dataView.getUint8(offset + 4) === 0x04 &&\n\t        dataView.getUint8(offset + 5) === 0x04\n\t      );\n\t    };\n\t\n\t    while (offset < length) {\n\t\n\t      if (isFieldSegmentStart(dataView, offset)) {\n\t\n\t        // Get the length of the name header (which is padded to an even number of bytes)\n\t        var nameHeaderLength = dataView.getUint8(offset + 7);\n\t        if (nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n\t        // Check for pre photoshop 6 format\n\t        if (nameHeaderLength === 0) {\n\t          // Always 4\n\t          nameHeaderLength = 4;\n\t        }\n\t\n\t        var startOffset = offset + 8 + nameHeaderLength;\n\t        var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\t\n\t        return readIPTCData(file, startOffset, sectionLength);\n\t\n\t        break;\n\t\n\t      }\n\t\n\t\n\t      // Not the marker, continue searching\n\t      offset++;\n\t\n\t    }\n\t\n\t  }\n\t  var IptcFieldMap = {\n\t    0x78: 'caption',\n\t    0x6E: 'credit',\n\t    0x19: 'keywords',\n\t    0x37: 'dateCreated',\n\t    0x50: 'byline',\n\t    0x55: 'bylineTitle',\n\t    0x7A: 'captionWriter',\n\t    0x69: 'headline',\n\t    0x74: 'copyright',\n\t    0x0F: 'category'\n\t  };\n\t  function readIPTCData(file, startOffset, sectionLength) {\n\t    var dataView = new DataView(file);\n\t    var data = {};\n\t    var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n\t    var segmentStartPos = startOffset;\n\t    while (segmentStartPos < startOffset + sectionLength) {\n\t      if (dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos + 1) === 0x02) {\n\t        segmentType = dataView.getUint8(segmentStartPos + 2);\n\t        if (segmentType in IptcFieldMap) {\n\t          dataSize = dataView.getInt16(segmentStartPos + 3);\n\t          segmentSize = dataSize + 5;\n\t          fieldName = IptcFieldMap[segmentType];\n\t          fieldValue = getStringFromDB(dataView, segmentStartPos + 5, dataSize);\n\t          // Check if we already stored a value with this name\n\t          if (data.hasOwnProperty(fieldName)) {\n\t            // Value already stored with this name, create multivalue field\n\t            if (data[fieldName] instanceof Array) {\n\t              data[fieldName].push(fieldValue);\n\t            }\n\t            else {\n\t              data[fieldName] = [data[fieldName], fieldValue];\n\t            }\n\t          }\n\t          else {\n\t            data[fieldName] = fieldValue;\n\t          }\n\t        }\n\t\n\t      }\n\t      segmentStartPos++;\n\t    }\n\t    return data;\n\t  }\n\t\n\t\n\t\n\t  function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n\t    var entries = file.getUint16(dirStart, !bigEnd),\n\t      tags = {},\n\t      entryOffset, tag,\n\t      i;\n\t\n\t    for (i = 0; i < entries; i++) {\n\t      entryOffset = dirStart + i * 12 + 2;\n\t      tag = strings[file.getUint16(entryOffset, !bigEnd)];\n\t      if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n\t      tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n\t    }\n\t    return tags;\n\t  }\n\t\n\t\n\t  function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n\t    var type = file.getUint16(entryOffset + 2, !bigEnd),\n\t      numValues = file.getUint32(entryOffset + 4, !bigEnd),\n\t      valueOffset = file.getUint32(entryOffset + 8, !bigEnd) + tiffStart,\n\t      offset,\n\t      vals, val, n,\n\t      numerator, denominator;\n\t\n\t    switch (type) {\n\t      case 1: // byte, 8-bit unsigned int\n\t      case 7: // undefined, 8-bit byte, value depending on field\n\t        if (numValues == 1) {\n\t          return file.getUint8(entryOffset + 8, !bigEnd);\n\t        } else {\n\t          offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n\t          vals = [];\n\t          for (n = 0; n < numValues; n++) {\n\t            vals[n] = file.getUint8(offset + n);\n\t          }\n\t          return vals;\n\t        }\n\t\n\t      case 2: // ascii, 8-bit byte\n\t        offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n\t        return getStringFromDB(file, offset, numValues - 1);\n\t\n\t      case 3: // short, 16 bit int\n\t        if (numValues == 1) {\n\t          return file.getUint16(entryOffset + 8, !bigEnd);\n\t        } else {\n\t          offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n\t          vals = [];\n\t          for (n = 0; n < numValues; n++) {\n\t            vals[n] = file.getUint16(offset + 2 * n, !bigEnd);\n\t          }\n\t          return vals;\n\t        }\n\t\n\t      case 4: // long, 32 bit int\n\t        if (numValues == 1) {\n\t          return file.getUint32(entryOffset + 8, !bigEnd);\n\t        } else {\n\t          vals = [];\n\t          for (n = 0; n < numValues; n++) {\n\t            vals[n] = file.getUint32(valueOffset + 4 * n, !bigEnd);\n\t          }\n\t          return vals;\n\t        }\n\t\n\t      case 5:    // rational = two long values, first is numerator, second is denominator\n\t        if (numValues == 1) {\n\t          numerator = file.getUint32(valueOffset, !bigEnd);\n\t          denominator = file.getUint32(valueOffset + 4, !bigEnd);\n\t          val = new Number(numerator / denominator);\n\t          val.numerator = numerator;\n\t          val.denominator = denominator;\n\t          return val;\n\t        } else {\n\t          vals = [];\n\t          for (n = 0; n < numValues; n++) {\n\t            numerator = file.getUint32(valueOffset + 8 * n, !bigEnd);\n\t            denominator = file.getUint32(valueOffset + 4 + 8 * n, !bigEnd);\n\t            vals[n] = new Number(numerator / denominator);\n\t            vals[n].numerator = numerator;\n\t            vals[n].denominator = denominator;\n\t          }\n\t          return vals;\n\t        }\n\t\n\t      case 9: // slong, 32 bit signed int\n\t        if (numValues == 1) {\n\t          return file.getInt32(entryOffset + 8, !bigEnd);\n\t        } else {\n\t          vals = [];\n\t          for (n = 0; n < numValues; n++) {\n\t            vals[n] = file.getInt32(valueOffset + 4 * n, !bigEnd);\n\t          }\n\t          return vals;\n\t        }\n\t\n\t      case 10: // signed rational, two slongs, first is numerator, second is denominator\n\t        if (numValues == 1) {\n\t          return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset + 4, !bigEnd);\n\t        } else {\n\t          vals = [];\n\t          for (n = 0; n < numValues; n++) {\n\t            vals[n] = file.getInt32(valueOffset + 8 * n, !bigEnd) / file.getInt32(valueOffset + 4 + 8 * n, !bigEnd);\n\t          }\n\t          return vals;\n\t        }\n\t    }\n\t  }\n\t\n\t  /**\n\t  * Given an IFD (Image File Directory) start offset\n\t  * returns an offset to next IFD or 0 if it's the last IFD.\n\t  */\n\t  function getNextIFDOffset(dataView, dirStart, bigEnd) {\n\t    //the first 2bytes means the number of directory entries contains in this IFD\n\t    var entries = dataView.getUint16(dirStart, !bigEnd);\n\t\n\t    // After last directory entry, there is a 4bytes of data,\n\t    // it means an offset to next IFD.\n\t    // If its value is '0x00000000', it means this is the last IFD and there is no linked IFD.\n\t\n\t    return dataView.getUint32(dirStart + 2 + entries * 12, !bigEnd); // each entry is 12 bytes long\n\t  }\n\t\n\t  function readThumbnailImage(dataView, tiffStart, firstIFDOffset, bigEnd) {\n\t    // get the IFD1 offset\n\t    var IFD1OffsetPointer = getNextIFDOffset(dataView, tiffStart + firstIFDOffset, bigEnd);\n\t\n\t    if (!IFD1OffsetPointer) {\n\t      // console.log('******** IFD1Offset is empty, image thumb not found ********');\n\t      return {};\n\t    }\n\t    else if (IFD1OffsetPointer > dataView.byteLength) { // this should not happen\n\t      // console.log('******** IFD1Offset is outside the bounds of the DataView ********');\n\t      return {};\n\t    }\n\t    // console.log('*******  thumbnail IFD offset (IFD1) is: %s', IFD1OffsetPointer);\n\t\n\t    var thumbTags = readTags(dataView, tiffStart, tiffStart + IFD1OffsetPointer, IFD1Tags, bigEnd)\n\t\n\t    // EXIF 2.3 specification for JPEG format thumbnail\n\t\n\t    // If the value of Compression(0x0103) Tag in IFD1 is '6', thumbnail image format is JPEG.\n\t    // Most of Exif image uses JPEG format for thumbnail. In that case, you can get offset of thumbnail\n\t    // by JpegIFOffset(0x0201) Tag in IFD1, size of thumbnail by JpegIFByteCount(0x0202) Tag.\n\t    // Data format is ordinary JPEG format, starts from 0xFFD8 and ends by 0xFFD9. It seems that\n\t    // JPEG format and 160x120pixels of size are recommended thumbnail format for Exif2.1 or later.\n\t\n\t    if (thumbTags['Compression']) {\n\t      // console.log('Thumbnail image found!');\n\t\n\t      switch (thumbTags['Compression']) {\n\t        case 6:\n\t          // console.log('Thumbnail image format is JPEG');\n\t          if (thumbTags.JpegIFOffset && thumbTags.JpegIFByteCount) {\n\t            // extract the thumbnail\n\t            var tOffset = tiffStart + thumbTags.JpegIFOffset;\n\t            var tLength = thumbTags.JpegIFByteCount;\n\t            thumbTags['blob'] = new Blob([new Uint8Array(dataView.buffer, tOffset, tLength)], {\n\t              type: 'image/jpeg'\n\t            });\n\t          }\n\t          break;\n\t\n\t        case 1:\n\t          console.log(\"Thumbnail image format is TIFF, which is not implemented.\");\n\t          break;\n\t        default:\n\t          console.log(\"Unknown thumbnail image format '%s'\", thumbTags['Compression']);\n\t      }\n\t    }\n\t    else if (thumbTags['PhotometricInterpretation'] == 2) {\n\t      console.log(\"Thumbnail image format is RGB, which is not implemented.\");\n\t    }\n\t    return thumbTags;\n\t  }\n\t\n\t  function getStringFromDB(buffer, start, length) {\n\t    var outstr = \"\";\n\t    for (var n = start; n < start + length; n++) {\n\t      outstr += String.fromCharCode(buffer.getUint8(n));\n\t    }\n\t    return outstr;\n\t  }\n\t\n\t  function readEXIFData(file, start) {\n\t    if (getStringFromDB(file, start, 4) != \"Exif\") {\n\t      if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n\t      return false;\n\t    }\n\t\n\t    var bigEnd,\n\t      tags, tag,\n\t      exifData, gpsData,\n\t      tiffOffset = start + 6;\n\t\n\t    // test for TIFF validity and endianness\n\t    if (file.getUint16(tiffOffset) == 0x4949) {\n\t      bigEnd = false;\n\t    } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n\t      bigEnd = true;\n\t    } else {\n\t      if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n\t      return false;\n\t    }\n\t\n\t    if (file.getUint16(tiffOffset + 2, !bigEnd) != 0x002A) {\n\t      if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n\t      return false;\n\t    }\n\t\n\t    var firstIFDOffset = file.getUint32(tiffOffset + 4, !bigEnd);\n\t\n\t    if (firstIFDOffset < 0x00000008) {\n\t      if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset + 4, !bigEnd));\n\t      return false;\n\t    }\n\t\n\t    tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\t\n\t    if (tags.ExifIFDPointer) {\n\t      exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n\t      for (tag in exifData) {\n\t        switch (tag) {\n\t          case \"LightSource\":\n\t          case \"Flash\":\n\t          case \"MeteringMode\":\n\t          case \"ExposureProgram\":\n\t          case \"SensingMethod\":\n\t          case \"SceneCaptureType\":\n\t          case \"SceneType\":\n\t          case \"CustomRendered\":\n\t          case \"WhiteBalance\":\n\t          case \"GainControl\":\n\t          case \"Contrast\":\n\t          case \"Saturation\":\n\t          case \"Sharpness\":\n\t          case \"SubjectDistanceRange\":\n\t          case \"FileSource\":\n\t            exifData[tag] = StringValues[tag][exifData[tag]];\n\t            break;\n\t\n\t          case \"ExifVersion\":\n\t          case \"FlashpixVersion\":\n\t            exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n\t            break;\n\t\n\t          case \"ComponentsConfiguration\":\n\t            exifData[tag] =\n\t              StringValues.Components[exifData[tag][0]] +\n\t              StringValues.Components[exifData[tag][1]] +\n\t              StringValues.Components[exifData[tag][2]] +\n\t              StringValues.Components[exifData[tag][3]];\n\t            break;\n\t        }\n\t        tags[tag] = exifData[tag];\n\t      }\n\t    }\n\t\n\t    if (tags.GPSInfoIFDPointer) {\n\t      gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n\t      for (tag in gpsData) {\n\t        switch (tag) {\n\t          case \"GPSVersionID\":\n\t            gpsData[tag] = gpsData[tag][0] +\n\t              \".\" + gpsData[tag][1] +\n\t              \".\" + gpsData[tag][2] +\n\t              \".\" + gpsData[tag][3];\n\t            break;\n\t        }\n\t        tags[tag] = gpsData[tag];\n\t      }\n\t    }\n\t\n\t    // extract thumbnail\n\t    tags['thumbnail'] = readThumbnailImage(file, tiffOffset, firstIFDOffset, bigEnd);\n\t\n\t    return tags;\n\t  }\n\t\n\t  function findXMPinJPEG(file) {\n\t\n\t    if (!('DOMParser' in self)) {\n\t      // console.warn('XML parsing not supported without DOMParser');\n\t      return;\n\t    }\n\t    var dataView = new DataView(file);\n\t\n\t    if (debug) console.log(\"Got file of length \" + file.byteLength);\n\t    if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n\t      if (debug) console.log(\"Not a valid JPEG\");\n\t      return false; // not a valid jpeg\n\t    }\n\t\n\t    var offset = 2,\n\t      length = file.byteLength,\n\t      dom = new DOMParser();\n\t\n\t    while (offset < (length - 4)) {\n\t      if (getStringFromDB(dataView, offset, 4) == \"http\") {\n\t        var startOffset = offset - 1;\n\t        var sectionLength = dataView.getUint16(offset - 2) - 1;\n\t        var xmpString = getStringFromDB(dataView, startOffset, sectionLength)\n\t        var xmpEndIndex = xmpString.indexOf('xmpmeta>') + 8;\n\t        xmpString = xmpString.substring(xmpString.indexOf('<x:xmpmeta'), xmpEndIndex);\n\t\n\t        var indexOfXmp = xmpString.indexOf('x:xmpmeta') + 10\n\t        //Many custom written programs embed xmp/xml without any namespace. Following are some of them.\n\t        //Without these namespaces, XML is thought to be invalid by parsers\n\t        xmpString = xmpString.slice(0, indexOfXmp)\n\t          + 'xmlns:Iptc4xmpCore=\"http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/\" '\n\t          + 'xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" '\n\t          + 'xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" '\n\t          + 'xmlns:plus=\"http://schemas.android.com/apk/lib/com.google.android.gms.plus\" '\n\t          + 'xmlns:ext=\"http://www.gettyimages.com/xsltExtension/1.0\" '\n\t          + 'xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" '\n\t          + 'xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" '\n\t          + 'xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\" '\n\t          + 'xmlns:crs=\"http://ns.adobe.com/camera-raw-settings/1.0/\" '\n\t          + 'xmlns:xapGImg=\"http://ns.adobe.com/xap/1.0/g/img/\" '\n\t          + 'xmlns:Iptc4xmpExt=\"http://iptc.org/std/Iptc4xmpExt/2008-02-29/\" '\n\t          + xmpString.slice(indexOfXmp)\n\t\n\t        var domDocument = dom.parseFromString(xmpString, 'text/xml');\n\t        return xml2Object(domDocument);\n\t      } else {\n\t        offset++;\n\t      }\n\t    }\n\t  }\n\t\n\t  function xml2json(xml) {\n\t    var json = {};\n\t\n\t    if (xml.nodeType == 1) { // element node\n\t      if (xml.attributes.length > 0) {\n\t        json['@attributes'] = {};\n\t        for (var j = 0; j < xml.attributes.length; j++) {\n\t          var attribute = xml.attributes.item(j);\n\t          json['@attributes'][attribute.nodeName] = attribute.nodeValue;\n\t        }\n\t      }\n\t    } else if (xml.nodeType == 3) { // text node\n\t      return xml.nodeValue;\n\t    }\n\t\n\t    // deal with children\n\t    if (xml.hasChildNodes()) {\n\t      for (var i = 0; i < xml.childNodes.length; i++) {\n\t        var child = xml.childNodes.item(i);\n\t        var nodeName = child.nodeName;\n\t        if (json[nodeName] == null) {\n\t          json[nodeName] = xml2json(child);\n\t        } else {\n\t          if (json[nodeName].push == null) {\n\t            var old = json[nodeName];\n\t            json[nodeName] = [];\n\t            json[nodeName].push(old);\n\t          }\n\t          json[nodeName].push(xml2json(child));\n\t        }\n\t      }\n\t    }\n\t\n\t    return json;\n\t  }\n\t\n\t  function xml2Object(xml) {\n\t    try {\n\t      var obj = {};\n\t      if (xml.children.length > 0) {\n\t        for (var i = 0; i < xml.children.length; i++) {\n\t          var item = xml.children.item(i);\n\t          var attributes = item.attributes;\n\t          for (var idx in attributes) {\n\t            var itemAtt = attributes[idx];\n\t            var dataKey = itemAtt.nodeName;\n\t            var dataValue = itemAtt.nodeValue;\n\t\n\t            if (dataKey !== undefined) {\n\t              obj[dataKey] = dataValue;\n\t            }\n\t          }\n\t          var nodeName = item.nodeName;\n\t\n\t          if (typeof (obj[nodeName]) == \"undefined\") {\n\t            obj[nodeName] = xml2json(item);\n\t          } else {\n\t            if (typeof (obj[nodeName].push) == \"undefined\") {\n\t              var old = obj[nodeName];\n\t\n\t              obj[nodeName] = [];\n\t              obj[nodeName].push(old);\n\t            }\n\t            obj[nodeName].push(xml2json(item));\n\t          }\n\t        }\n\t      } else {\n\t        obj = xml.textContent;\n\t      }\n\t      return obj;\n\t    } catch (e) {\n\t      console.log(e.message);\n\t    }\n\t  }\n\t\n\t  EXIF.enableXmp = function () {\n\t    EXIF.isXmpEnabled = true;\n\t  }\n\t\n\t  EXIF.disableXmp = function () {\n\t    EXIF.isXmpEnabled = false;\n\t  }\n\t\n\t  EXIF.getData = function (img, callback) {\n\t    if (((self.Image && img instanceof self.Image)\n\t      || (self.HTMLImageElement && img instanceof self.HTMLImageElement))\n\t      && !img.complete)\n\t      return false;\n\t\n\t    if (!imageHasData(img)) {\n\t      getImageData(img, callback);\n\t    } else {\n\t      if (callback) {\n\t        callback.call(img);\n\t      }\n\t    }\n\t    return true;\n\t  }\n\t\n\t  EXIF.getTag = function (img, tag) {\n\t    if (!imageHasData(img)) return;\n\t    return img.exifdata[tag];\n\t  }\n\t\n\t  EXIF.getIptcTag = function (img, tag) {\n\t    if (!imageHasData(img)) return;\n\t    return img.iptcdata[tag];\n\t  }\n\t\n\t  EXIF.getAllTags = function (img) {\n\t    if (!imageHasData(img)) return {};\n\t    var a,\n\t      data = img.exifdata,\n\t      tags = {};\n\t    for (a in data) {\n\t      if (data.hasOwnProperty(a)) {\n\t        tags[a] = data[a];\n\t      }\n\t    }\n\t    return tags;\n\t  }\n\t\n\t  EXIF.getAllIptcTags = function (img) {\n\t    if (!imageHasData(img)) return {};\n\t    var a,\n\t      data = img.iptcdata,\n\t      tags = {};\n\t    for (a in data) {\n\t      if (data.hasOwnProperty(a)) {\n\t        tags[a] = data[a];\n\t      }\n\t    }\n\t    return tags;\n\t  }\n\t\n\t  EXIF.pretty = function (img) {\n\t    if (!imageHasData(img)) return \"\";\n\t    var a,\n\t      data = img.exifdata,\n\t      strPretty = \"\";\n\t    for (a in data) {\n\t      if (data.hasOwnProperty(a)) {\n\t        if (typeof data[a] == \"object\") {\n\t          if (data[a] instanceof Number) {\n\t            strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n\t          } else {\n\t            strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n\t          }\n\t        } else {\n\t          strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n\t        }\n\t      }\n\t    }\n\t    return strPretty;\n\t  }\n\t\n\t  EXIF.readFromBinaryFile = function (file) {\n\t    return findEXIFinJPEG(file);\n\t  }\n\t\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t      return EXIF;\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  }\n\t}.call(this));\n\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// lrz.bundle.js"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t0:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".chunk.js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0fc483aa30491a1c93f5","// 保证按需加载的文件路径正确\n__webpack_public_path__ = getJsDir('lrz') + '/';\nwindow.URL = window.URL || window.webkitURL;\n\nvar Promise = require('Promise'),\n    BlobFormDataShim = require('Blob.FormData.shim'),\n    exif = require('exif');\n\n\nvar UA = (function (userAgent) {\n    var ISOldIOS = /OS (\\d)_.* like Mac OS X/g.exec(userAgent),\n        isOldAndroid = /Android (\\d.*?);/g.exec(userAgent) || /Android\\/(\\d.*?) /g.exec(userAgent);\n\n    // 判断设备是否是IOS7以下\n    // 判断设备是否是android4.5以下\n    // 判断是否iOS\n    // 判断是否android\n    // 判断是否QQ浏览器\n    return {\n        oldIOS: ISOldIOS ? +ISOldIOS.pop() < 8 : false,\n        oldAndroid: isOldAndroid ? +isOldAndroid.pop().substr(0, 3) < 4.5 : false,\n        iOS: /\\(i[^;]+;( U;)? CPU.+Mac OS X/.test(userAgent),\n        android: /Android/g.test(userAgent),\n        mQQBrowser: /MQQBrowser/g.test(userAgent)\n    }\n})(navigator.userAgent);\n\n\nfunction Lrz(file, opts) {\n    var that = this;\n\n    if (!file) throw new Error('没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7');\n\n    opts = opts || {};\n\n    that.defaults = {\n        width: null,\n        height: null,\n        fieldName: 'file',\n        quality: 0.7\n    };\n\n    that.file = file;\n\n    for (var p in opts) {\n        if (!opts.hasOwnProperty(p)) continue;\n        that.defaults[p] = opts[p];\n    }\n\n    return this.init();\n}\n\nLrz.prototype.init = function () {\n    var that = this,\n        file = that.file,\n        fileIsString = typeof file === 'string',\n        fileIsBase64 = /^data:/.test(file),\n        img = new Image(),\n        canvas = document.createElement('canvas'),\n        blob = fileIsString ? file : URL.createObjectURL(file);\n\n    that.img = img;\n    that.blob = blob;\n    that.canvas = canvas;\n\n    if (fileIsString) {\n        that.fileName = fileIsBase64 ? 'base64.jpg' : (file.split('/').pop());\n    } else {\n        that.fileName = file.name;\n    }\n\n    if (!document.createElement('canvas').getContext) {\n        throw new Error('浏览器不支持canvas');\n    }\n\n    return new Promise(function (resolve, reject) {\n        img.onerror = function () {\n            var err = new Error('加载图片文件失败');\n            reject(err);\n            throw err;\n        };\n\n        img.onload = function () {\n            that._getBase64()\n                .then(function (base64) {\n                    if (base64.length < 10) {\n                        var err = new Error('生成base64失败');\n                        reject(err);\n                        throw err;\n                    }\n\n                    return base64;\n                })\n                .then(function (base64) {\n                    var formData = null;\n\n                    // 压缩文件太大就采用源文件,且使用原生的FormData() @source #55\n                    if (typeof that.file === 'object' && base64.length > that.file.size) {\n                        formData = new FormData();\n                        file = that.file;\n                    } else {\n                        formData = new BlobFormDataShim.FormData();\n                        file = dataURItoBlob(base64);\n                    }\n\n                    formData.append(that.defaults.fieldName, file, (that.fileName.replace(/\\..+/g, '.jpg')));\n\n                    resolve({\n                        formData: formData,\n                        fileLen: +file.size,\n                        base64: base64,\n                        base64Len: base64.length,\n                        origin: that.file,\n                        file: file\n                    });\n\n                    // 释放内存\n                    for (var p in that) {\n                        if (!that.hasOwnProperty(p)) continue;\n\n                        that[p] = null;\n                    }\n                    URL.revokeObjectURL(that.blob);\n                });\n        };\n\n        // 如果传入的是base64在移动端会报错\n        !fileIsBase64 && (img.crossOrigin = \"*\");\n\n        img.src = blob;\n    });\n};\n\n/**\n * 检测浏览器是否支持自动旋转图片\n *\n * 兼容 iOS 13.4.1 以及支持图片自动旋转的浏览器；\n * 参照：https://juejin.im/post/5ec26d3c6fb9a043681f83c2\n * */\nvar testAutoOrientationImageURL =\n    'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\nvar isImageAutomaticRotation;\nLrz.detectImageAutomaticRotation = function () {\n    return new Promise(function (resolve) {\n        if (isImageAutomaticRotation === undefined) {\n            var img = new Image();\n\n            img.onload = function () {\n                // 如果图片变成 1x2，说明浏览器对图片进行了回正\n                isImageAutomaticRotation = img.width === 1 && img.height === 2;\n\n                resolve(isImageAutomaticRotation);\n            };\n\n            img.src = testAutoOrientationImageURL;\n        } else {\n            resolve(isImageAutomaticRotation);\n        }\n    });\n}\n\nLrz.prototype._getBase64 = function () {\n    var that = this,\n        img = that.img,\n        file = that.file,\n        canvas = that.canvas;\n\n    return new Promise(function (resolve) {\n        try {\n            // 传入blob在android4.3以下有bug\n            exif.getData(typeof file === 'object' ? file : img, function () {\n                var img = this;\n                Lrz.detectImageAutomaticRotation().then(function (supported) {\n                    // 兼容 iOS 13.4.1 以及支持图片自动旋转的浏览器；\n                    // 参照：https://juejin.im/post/5ec26d3c6fb9a043681f83c2\n                    if (!supported) {\n                        that.orientation = exif.getTag(img, \"Orientation\");\n                    }\n\n                    that.resize = that._getResize();\n                    that.ctx = canvas.getContext('2d');\n\n                    canvas.width = that.resize.width;\n                    canvas.height = that.resize.height;\n\n                    // 设置为白色背景，jpg是不支持透明的，所以会被默认为canvas默认的黑色背景。\n                    that.ctx.fillStyle = '#fff';\n                    that.ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n                    // 根据设备对应处理方式\n                    if (UA.oldIOS) {\n                        that._createBase64ForOldIOS().then(resolve);\n                    }\n                    else {\n                        that._createBase64().then(resolve);\n                    }\n                })\n\n                // // ============================================\n\n                // console.log(that.orientation, exif.getTag(this, \"Orientation\"))\n                // that.orientation = exif.getTag(this, \"Orientation\");\n                // that.resize = that._getResize();\n                // that.ctx = canvas.getContext('2d');\n\n                // canvas.width = that.resize.width;\n                // canvas.height = that.resize.height;\n\n                // // 设置为白色背景，jpg是不支持透明的，所以会被默认为canvas默认的黑色背景。\n                // that.ctx.fillStyle = '#fff';\n                // that.ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n                // // 根据设备对应处理方式\n                // if (UA.oldIOS) {\n                //     that._createBase64ForOldIOS().then(resolve);\n                // }\n                // else {\n                //     that._createBase64().then(resolve);\n                // }\n            });\n        } catch (err) {\n            // 这样能解决低内存设备闪退的问题吗？\n            throw new Error(err);\n        }\n    });\n};\n\n\nLrz.prototype._createBase64ForOldIOS = function () {\n    var that = this,\n        img = that.img,\n        canvas = that.canvas,\n        defaults = that.defaults,\n        orientation = that.orientation;\n\n    return new Promise(function (resolve) {\n        require(['megapix-image'], function (MegaPixImage) {\n            var mpImg = new MegaPixImage(img);\n\n            if (\"5678\".indexOf(orientation) > -1) {\n                mpImg.render(canvas, {\n                    width: canvas.height,\n                    height: canvas.width,\n                    orientation: orientation\n                });\n            } else {\n                mpImg.render(canvas, {\n                    width: canvas.width,\n                    height: canvas.height,\n                    orientation: orientation\n                });\n            }\n\n            resolve(canvas.toDataURL('image/jpeg', defaults.quality));\n        });\n    });\n};\n\nLrz.prototype._createBase64 = function () {\n    var that = this,\n        resize = that.resize,\n        img = that.img,\n        canvas = that.canvas,\n        ctx = that.ctx,\n        defaults = that.defaults,\n        orientation = that.orientation;\n\n    // 调整为正确方向\n    switch (orientation) {\n        case 3:\n            ctx.rotate(180 * Math.PI / 180);\n            ctx.drawImage(img, -resize.width, -resize.height, resize.width, resize.height);\n            break;\n        case 6:\n            ctx.rotate(90 * Math.PI / 180);\n            ctx.drawImage(img, 0, -resize.width, resize.height, resize.width);\n            break;\n        case 8:\n            ctx.rotate(270 * Math.PI / 180);\n            ctx.drawImage(img, -resize.height, 0, resize.height, resize.width);\n            break;\n\n        case 2:\n            ctx.translate(resize.width, 0);\n            ctx.scale(-1, 1);\n            ctx.drawImage(img, 0, 0, resize.width, resize.height);\n            break;\n        case 4:\n            ctx.translate(resize.width, 0);\n            ctx.scale(-1, 1);\n            ctx.rotate(180 * Math.PI / 180);\n            ctx.drawImage(img, -resize.width, -resize.height, resize.width, resize.height);\n            break;\n        case 5:\n            ctx.translate(resize.width, 0);\n            ctx.scale(-1, 1);\n            ctx.rotate(90 * Math.PI / 180);\n            ctx.drawImage(img, 0, -resize.width, resize.height, resize.width);\n            break;\n        case 7:\n            ctx.translate(resize.width, 0);\n            ctx.scale(-1, 1);\n            ctx.rotate(270 * Math.PI / 180);\n            ctx.drawImage(img, -resize.height, 0, resize.height, resize.width);\n            break;\n\n        default:\n            ctx.drawImage(img, 0, 0, resize.width, resize.height);\n    }\n\n    return new Promise(function (resolve) {\n        if (UA.oldAndroid || UA.mQQBrowser || !navigator.userAgent) {\n            require(['jpeg_encoder_basic'], function (JPEGEncoder) {\n                var encoder = new JPEGEncoder(),\n                    img = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n                resolve(encoder.encode(img, defaults.quality * 100));\n            })\n        }\n        else {\n            resolve(canvas.toDataURL('image/jpeg', defaults.quality));\n        }\n    });\n};\n\nLrz.prototype._getResize = function () {\n    var that = this,\n        img = that.img,\n        defaults = that.defaults,\n        width = defaults.width,\n        height = defaults.height,\n        orientation = that.orientation;\n\n    var ret = {\n        width: img.width,\n        height: img.height\n    };\n\n    if (\"5678\".indexOf(orientation) > -1) {\n        ret.width = img.height;\n        ret.height = img.width;\n    }\n\n    // 如果原图小于设定，采用原图\n    if (ret.width < width || ret.height < height) {\n        return ret;\n    }\n\n    var scale = ret.width / ret.height;\n\n    if (width && height) {\n        if (scale >= width / height) {\n            if (ret.width > width) {\n                ret.width = width;\n                ret.height = Math.ceil(width / scale);\n            }\n        } else {\n            if (ret.height > height) {\n                ret.height = height;\n                ret.width = Math.ceil(height * scale);\n            }\n        }\n    }\n    else if (width) {\n        if (width < ret.width) {\n            ret.width = width;\n            ret.height = Math.ceil(width / scale);\n        }\n    }\n    else if (height) {\n        if (height < ret.height) {\n            ret.width = Math.ceil(height * scale);\n            ret.height = height;\n        }\n    }\n\n    // 超过这个值base64无法生成，在IOS上\n    while (ret.width >= 3264 || ret.height >= 2448) {\n        ret.width *= 0.8;\n        ret.height *= 0.8;\n    }\n\n    return ret;\n};\n\n/**\n * 获取当前js文件所在路径，必须得在代码顶部执行此函数\n * @returns {string}\n */\nfunction getJsDir(src) {\n    var script = null;\n\n    if (src) {\n        script = [].filter.call(document.scripts, function (v) {\n            return v.src.indexOf(src) !== -1;\n        })[0];\n    } else {\n        script = document.scripts[document.scripts.length - 1];\n    }\n\n    if (!script) return null;\n\n    return script.src.substr(0, script.src.lastIndexOf('/'));\n}\n\n\n/**\n * 转换成formdata\n * @param dataURI\n * @returns {*}\n *\n * @source http://stackoverflow.com/questions/4998908/convert-data-uri-to-file-then-append-to-formdata\n */\nfunction dataURItoBlob(dataURI) {\n    // convert base64/URLEncoded data component to raw binary data held in a string\n    var byteString;\n    if (dataURI.split(',')[0].indexOf('base64') >= 0)\n        byteString = atob(dataURI.split(',')[1]);\n    else\n        byteString = unescape(dataURI.split(',')[1]);\n\n    // separate out the mime component\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\n    // write the bytes of the string to a typed array\n    var ia = new Uint8Array(byteString.length);\n    for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n\n    return new BlobFormDataShim.Blob([ia.buffer], { type: mimeString });\n}\n\nwindow.lrz = function (file, opts) {\n    return new Lrz(file, opts);\n};\n\n// 版本号来自package.json，构建时自动填充\nwindow.lrz.version = '4.9.40';\n\nmodule.exports = window.lrz;\n\n/**\n *\n * 　　　┏┓　　　┏┓\n * 　　┏┛┻━━━┛┻┓\n * 　　┃　　　　　　　┃\n * 　　┃　　　━　　　┃\n * 　　┃　┳┛　┗┳　┃\n * 　　┃　　　　　　　┃\n * 　　┃　　　┻　　　┃\n * 　　┃　　　　　　　┃\n * 　　┗━┓　　　┏━┛Code is far away from bug with the animal protecting\n * 　　　　┃　　　┃    神兽保佑,代码无bug\n * 　　　　┃　　　┃\n * 　　　　┃　　　┗━━━┓\n * 　　　　┃　　　　　 ┣┓\n * 　　　　┃　　　　 ┏┛\n * 　　　　┗┓┓┏━┳┓┏┛\n * 　　　　　┃┫┫　┃┫┫\n * 　　　　　┗┻┛　┗┻┛\n *\n */\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lrz.js\n// module id = 0\n// module chunks = 0","null\n\n\n// WEBPACK FOOTER //\n// src/lib/Promise.js","null\n\n\n// WEBPACK FOOTER //\n// node_modules/timers-browserify/main.js","null\n\n\n// WEBPACK FOOTER //\n// node_modules/setimmediate/setImmediate.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// node_modules/process/browser.js","//@source https://xts.so/demo/compress/index.html\n\n// 早期版本的浏览器需要用BlobBuilder来构造Blob，创建一个通用构造器来兼容早期版本\nvar BlobConstructor = ((function () {\n    try {\n        new Blob();\n        return true;\n    } catch (e) {\n        return false;\n    }\n})()) ? window.Blob : function (parts, opts) {\n    var bb = new (\n        window.BlobBuilder\n        || window.WebKitBlobBuilder\n        || window.MSBlobBuilder\n        || window.MozBlobBuilder\n    );\n    parts.forEach(function (p) {\n        bb.append(p);\n    });\n\n    return bb.getBlob(opts ? opts.type : undefined);\n};\n\n// Android上的AppleWebKit 534以前的内核存在一个Bug，\n// 导致FormData加入一个Blob对象后，上传的文件是0字节\nfunction hasFormDataBug () {\n    var bCheck = ~navigator.userAgent.indexOf('Android')\n        && ~navigator.vendor.indexOf('Google')\n        && !~navigator.userAgent.indexOf('Chrome');\n\n    // QQ X5浏览器也有这个BUG\n    return bCheck && navigator.userAgent.match(/AppleWebKit\\/(\\d+)/).pop() <= 534 || /MQQBrowser/g.test(navigator.userAgent);\n}\nvar FormDataShim=(function(){\n    var formDataShimNums = 0;\n    function FormDataShim () {\n        var\n        // Store a reference to this\n        o        = this,\n    \n        // Data to be sent\n        parts = [],\n    \n        // Boundary parameter for separating the multipart values\n        boundary = Array(21).join('-') + (+new Date() * (1e16 * Math.random())).toString(36),\n    \n        // Store the current XHR send method so we can safely override it\n        oldSend  = XMLHttpRequest.prototype.send;\n        this.getParts = function () {\n            return parts.toString();\n        };\n        this.append   = function (name, value, filename) {\n            parts.push('--' + boundary + '\\r\\nContent-Disposition: form-data; name=\"' + name + '\"');\n    \n            if (value instanceof Blob) {\n                parts.push('; filename=\"' + (filename || 'blob') + '\"\\r\\nContent-Type: ' + value.type + '\\r\\n\\r\\n');\n                parts.push(value);\n            }\n            else {\n                parts.push('\\r\\n\\r\\n' + value);\n            }\n            parts.push('\\r\\n');\n        };\n    \n        formDataShimNums++;\n        XMLHttpRequest.prototype.send = function (val) {\n            var fr,\n                data,\n                oXHR = this;\n    \n            if (val === o) {\n                // Append the final boundary string\n                parts.push('--' + boundary + '--\\r\\n');\n                // Create the blob\n                data = new BlobConstructor(parts);\n    \n                // Set up and read the blob into an array to be sent\n                fr         = new FileReader();\n                fr.onload  = function () {\n                    oldSend.call(oXHR, fr.result);\n                };\n                fr.onerror = function (err) {\n                    throw err;\n                };\n                fr.readAsArrayBuffer(data);\n    \n                // Set the multipart content type and boudary\n                this.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);\n                formDataShimNums--;\n                if(formDataShimNums == 0){\n                    XMLHttpRequest.prototype.send = oldSend;\n                }\n            }\n            else {\n                oldSend.call(this, val);\n            }\n        };\n    };\n    FormDataShim.prototype = Object.create(FormData.prototype);\n    return FormDataShim;\n})();\n\n\nmodule.exports = {\n    Blob    : BlobConstructor,\n    FormData: hasFormDataBug() ? FormDataShim : FormData\n};\n\n\n\n// WEBPACK FOOTER //\n// src/lib/Blob.FormData.shim.js","null\n\n\n// WEBPACK FOOTER //\n// src/lib/exif.js"],"sourceRoot":""}